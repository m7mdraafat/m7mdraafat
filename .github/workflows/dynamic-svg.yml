name: Generate Dynamic Profile SVGs

on:
  schedule:
    - cron: "0 */6 * * *"
  workflow_dispatch:

jobs:
  generate-svg:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
      
      - name: Create SVG Generator
        run: |
          mkdir -p dynamic-svg
          cat > generate-svg.js << 'EOF'
          const https = require('https');
          const fs = require('fs');

          const username = 'm7mdraafat';

          function fetchGitHubData() {
            return new Promise((resolve, reject) => {
              const options = {
                hostname: 'api.github.com',
                path: `/users/${username}`,
                headers: { 'User-Agent': 'GitHub-Profile-Generator' }
              };
              https.get(options, (res) => {
                let data = '';
                res.on('data', chunk => data += chunk);
                res.on('end', () => resolve(JSON.parse(data)));
              }).on('error', reject);
            });
          }

          function styleParticles(userData, greeting) {
            return `<svg width="800" height="180" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="bg1" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#0d1117"/>
                <stop offset="50%" style="stop-color:#1a1a2e"/>
                <stop offset="100%" style="stop-color:#16213e"/>
              </linearGradient>
            </defs>
            <rect width="100%" height="100%" fill="url(#bg1)" rx="10"/>
            <circle cx="50" cy="50" r="2" fill="#58a6ff" opacity="0.6">
              <animate attributeName="cy" values="50;130;50" dur="4s" repeatCount="indefinite"/>
            </circle>
            <circle cx="150" cy="90" r="1.5" fill="#58a6ff" opacity="0.4">
              <animate attributeName="cy" values="90;30;90" dur="3s" repeatCount="indefinite"/>
            </circle>
            <circle cx="650" cy="70" r="2" fill="#58a6ff" opacity="0.5">
              <animate attributeName="cy" values="70;150;70" dur="5s" repeatCount="indefinite"/>
            </circle>
            <circle cx="750" cy="100" r="1" fill="#c0c0c0" opacity="0.4">
              <animate attributeName="cy" values="100;40;100" dur="3.5s" repeatCount="indefinite"/>
            </circle>
            <circle cx="300" cy="30" r="1.5" fill="#58a6ff" opacity="0.3">
              <animate attributeName="cy" values="30;160;30" dur="6s" repeatCount="indefinite"/>
            </circle>
            <text x="400" y="60" text-anchor="middle" font-family="Segoe UI, Arial" font-size="36" font-weight="bold" fill="#ffffff">${greeting}! I'm Mohamed Raafat</text>
            <text x="400" y="100" text-anchor="middle" font-family="Segoe UI, Arial" font-size="18" fill="#8b949e">Software Engineer Intern @ Microsoft | .NET Developer</text>
            <text x="200" y="145" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">ğŸ‘¥ ${userData.followers} followers</text>
            <text x="350" y="145" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">ğŸ“¦ ${userData.public_repos} repos</text>
            <text x="500" y="145" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">â­ ${userData.following} following</text>
          </svg>`;
          }

          function styleMatrix(userData, greeting) {
            let drops = '';
            for (let i = 0; i < 20; i++) {
              const x = 30 + i * 40;
              const delay = Math.floor(Math.random() * 3);
              const dur = 2 + Math.floor(Math.random() * 2);
              drops += '<text x="' + x + '" y="-20" font-family="monospace" font-size="14" fill="#00ff41" opacity="0.3">01<animate attributeName="y" values="-20;200" dur="' + dur + 's" begin="' + delay + 's" repeatCount="indefinite"/></text>';
            }
            return `<svg width="800" height="180" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="bg2" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#0a0a0a"/>
                <stop offset="100%" style="stop-color:#001a00"/>
              </linearGradient>
            </defs>
            <rect width="100%" height="100%" fill="url(#bg2)" rx="10"/>
            ${drops}
            <rect x="100" y="30" width="600" height="120" fill="#0a0a0a" fill-opacity="0.8" rx="8"/>
            <text x="400" y="70" text-anchor="middle" font-family="Courier New, monospace" font-size="32" font-weight="bold" fill="#00ff41">${greeting}! I'm Mohamed Raafat</text>
            <text x="400" y="105" text-anchor="middle" font-family="Courier New, monospace" font-size="16" fill="#00aa30">Software Engineer Intern @ Microsoft | .NET Developer</text>
            <text x="200" y="140" font-family="monospace" font-size="13" fill="#00ff41">ğŸ‘¥ ${userData.followers}</text>
            <text x="350" y="140" font-family="monospace" font-size="13" fill="#00ff41">ğŸ“¦ ${userData.public_repos}</text>
            <text x="500" y="140" font-family="monospace" font-size="13" fill="#00ff41">â­ ${userData.following}</text>
          </svg>`;
          }

          function styleAurora(userData, greeting) {
            return `<svg width="800" height="180" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="aurora" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#0d1117">
                  <animate attributeName="stop-color" values="#0d1117;#1a1a2e;#0d1117" dur="5s" repeatCount="indefinite"/>
                </stop>
                <stop offset="50%" style="stop-color:#1e3a5f">
                  <animate attributeName="stop-color" values="#1e3a5f;#2d5a87;#1e3a5f" dur="5s" repeatCount="indefinite"/>
                </stop>
                <stop offset="100%" style="stop-color:#0f3460">
                  <animate attributeName="stop-color" values="#0f3460;#1a4a7a;#0f3460" dur="5s" repeatCount="indefinite"/>
                </stop>
              </linearGradient>
            </defs>
            <rect width="100%" height="100%" fill="url(#aurora)" rx="10"/>
            <path d="M0,140 Q200,100 400,140 T800,140 L800,180 L0,180 Z" fill="#58a6ff" opacity="0.1">
              <animate attributeName="d" values="M0,140 Q200,100 400,140 T800,140 L800,180 L0,180 Z;M0,140 Q200,160 400,120 T800,140 L800,180 L0,180 Z;M0,140 Q200,100 400,140 T800,140 L800,180 L0,180 Z" dur="4s" repeatCount="indefinite"/>
            </path>
            <path d="M0,150 Q200,120 400,150 T800,150 L800,180 L0,180 Z" fill="#58a6ff" opacity="0.15">
              <animate attributeName="d" values="M0,150 Q200,120 400,150 T800,150 L800,180 L0,180 Z;M0,150 Q200,170 400,130 T800,150 L800,180 L0,180 Z;M0,150 Q200,120 400,150 T800,150 L800,180 L0,180 Z" dur="3s" repeatCount="indefinite"/>
            </path>
            <text x="400" y="55" text-anchor="middle" font-family="Segoe UI, Arial" font-size="36" font-weight="bold" fill="#ffffff">${greeting}! I'm Mohamed Raafat</text>
            <text x="400" y="90" text-anchor="middle" font-family="Segoe UI, Arial" font-size="18" fill="#c0c0c0">Software Engineer Intern @ Microsoft | .NET Developer</text>
            <text x="200" y="125" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">ğŸ‘¥ ${userData.followers} followers</text>
            <text x="400" y="125" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">ğŸ“¦ ${userData.public_repos} repos</text>
            <text x="580" y="125" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">â­ ${userData.following} following</text>
          </svg>`;
          }

          function styleHexagon(userData, greeting) {
            let hexagons = '';
            const positions = [[50,40],[120,80],[700,50],[750,120],[380,150],[620,30]];
            positions.forEach(function(pos, i) {
              const x = pos[0];
              const y = pos[1];
              const size = 15 + Math.floor(Math.random() * 10);
              const opacity = (0.1 + Math.random() * 0.2).toFixed(2);
              const dur = 2 + i * 0.5;
              hexagons += '<polygon points="' + x + ',' + (y-size) + ' ' + (x+size*0.866) + ',' + (y-size/2) + ' ' + (x+size*0.866) + ',' + (y+size/2) + ' ' + x + ',' + (y+size) + ' ' + (x-size*0.866) + ',' + (y+size/2) + ' ' + (x-size*0.866) + ',' + (y-size/2) + '" fill="none" stroke="#58a6ff" stroke-width="1" opacity="' + opacity + '"><animate attributeName="opacity" values="' + opacity + ';' + (parseFloat(opacity)+0.2) + ';' + opacity + '" dur="' + dur + 's" repeatCount="indefinite"/></polygon>';
            });
            return `<svg width="800" height="180" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="bg4" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#0d1117"/>
                <stop offset="100%" style="stop-color:#161b22"/>
              </linearGradient>
            </defs>
            <rect width="100%" height="100%" fill="url(#bg4)" rx="10"/>
            ${hexagons}
            <text x="400" y="55" text-anchor="middle" font-family="Segoe UI, Arial" font-size="36" font-weight="bold" fill="#ffffff">${greeting}! I'm Mohamed Raafat</text>
            <text x="400" y="90" text-anchor="middle" font-family="Segoe UI, Arial" font-size="18" fill="#8b949e">Software Engineer Intern @ Microsoft | .NET Developer</text>
            <text x="200" y="130" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">ğŸ‘¥ ${userData.followers} followers</text>
            <text x="400" y="130" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">ğŸ“¦ ${userData.public_repos} repos</text>
            <text x="580" y="130" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">â­ ${userData.following} following</text>
          </svg>`;
          }

          function stylePulse(userData, greeting) {
            return `<svg width="800" height="180" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="bg5" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#0d1117"/>
                <stop offset="100%" style="stop-color:#1a1a2e"/>
              </linearGradient>
            </defs>
            <rect width="100%" height="100%" fill="url(#bg5)" rx="10"/>
            <circle cx="100" cy="90" r="20" fill="none" stroke="#58a6ff" stroke-width="1" opacity="0.3">
              <animate attributeName="r" values="20;60;20" dur="3s" repeatCount="indefinite"/>
              <animate attributeName="opacity" values="0.3;0;0.3" dur="3s" repeatCount="indefinite"/>
            </circle>
            <circle cx="700" cy="90" r="20" fill="none" stroke="#58a6ff" stroke-width="1" opacity="0.3">
              <animate attributeName="r" values="20;60;20" dur="4s" repeatCount="indefinite"/>
              <animate attributeName="opacity" values="0.3;0;0.3" dur="4s" repeatCount="indefinite"/>
            </circle>
            <circle cx="400" cy="90" r="30" fill="none" stroke="#58a6ff" stroke-width="2" opacity="0.2">
              <animate attributeName="r" values="30;100;30" dur="5s" repeatCount="indefinite"/>
              <animate attributeName="opacity" values="0.2;0;0.2" dur="5s" repeatCount="indefinite"/>
            </circle>
            <text x="400" y="55" text-anchor="middle" font-family="Segoe UI, Arial" font-size="36" font-weight="bold" fill="#ffffff">${greeting}! I'm Mohamed Raafat</text>
            <text x="400" y="90" text-anchor="middle" font-family="Segoe UI, Arial" font-size="18" fill="#8b949e">Software Engineer Intern @ Microsoft | .NET Developer</text>
            <text x="200" y="130" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">ğŸ‘¥ ${userData.followers} followers</text>
            <text x="400" y="130" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">ğŸ“¦ ${userData.public_repos} repos</text>
            <text x="580" y="130" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">â­ ${userData.following} following</text>
          </svg>`;
          }

          function styleStarfield(userData, greeting) {
            let stars = '';
            for (let i = 0; i < 30; i++) {
              const x = Math.floor(Math.random() * 800);
              const y = Math.floor(Math.random() * 180);
              const size = (0.5 + Math.random() * 1.5).toFixed(1);
              const dur = (1 + Math.random() * 2).toFixed(1);
              stars += '<circle cx="' + x + '" cy="' + y + '" r="' + size + '" fill="#ffffff" opacity="0.4"><animate attributeName="opacity" values="0.4;0.8;0.4" dur="' + dur + 's" repeatCount="indefinite"/></circle>';
            }
            return `<svg width="800" height="180" xmlns="http://www.w3.org/2000/svg">
            <rect width="100%" height="100%" fill="#0a0a1a" rx="10"/>
            ${stars}
            <text x="400" y="55" text-anchor="middle" font-family="Segoe UI, Arial" font-size="36" font-weight="bold" fill="#ffffff">${greeting}! I'm Mohamed Raafat</text>
            <text x="400" y="90" text-anchor="middle" font-family="Segoe UI, Arial" font-size="18" fill="#a0a0b0">Software Engineer Intern @ Microsoft | .NET Developer</text>
            <text x="200" y="130" font-family="Segoe UI, Arial" font-size="14" fill="#7aa2f7">ğŸ‘¥ ${userData.followers} followers</text>
            <text x="400" y="130" font-family="Segoe UI, Arial" font-size="14" fill="#7aa2f7">ğŸ“¦ ${userData.public_repos} repos</text>
            <text x="580" y="130" font-family="Segoe UI, Arial" font-size="14" fill="#7aa2f7">â­ ${userData.following} following</text>
          </svg>`;
          }

          function generateHeaderSVG(userData) {
            const now = new Date();
            const hour = (now.getUTCHours() + 2) % 24;
            const greeting = hour < 12 ? 'Good Morning' : hour < 18 ? 'Good Afternoon' : 'Good Evening';
            
            const styles = [styleParticles, styleMatrix, styleAurora, styleHexagon, stylePulse, styleStarfield];
            const randomStyle = styles[Math.floor(Math.random() * styles.length)];
            
            console.log('ğŸ¨ Header style: ' + randomStyle.name);
            return randomStyle(userData, greeting);
          }

          // ============ ABOUT ME STYLES ============
          
          function aboutGlassCards(userData) {
            return `<svg width="800" height="320" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="aboutBg1" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#0d1117"/>
                <stop offset="50%" style="stop-color:#1a1a2e"/>
                <stop offset="100%" style="stop-color:#16213e"/>
              </linearGradient>
              <filter id="glow">
                <feGaussianBlur stdDeviation="2" result="blur"/>
                <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
              </filter>
            </defs>
            <rect width="100%" height="100%" fill="url(#aboutBg1)" rx="10"/>
            
            <!-- Glass card -->
            <rect x="30" y="20" width="740" height="280" fill="#161b22" fill-opacity="0.7" rx="12" stroke="#30363d" stroke-width="1"/>
            
            <!-- Header -->
            <text x="400" y="55" text-anchor="middle" font-family="Segoe UI, Arial" font-size="24" font-weight="bold" fill="#58a6ff" filter="url(#glow)">About Me</text>
            
            <!-- Microsoft Badge -->
            <rect x="280" y="70" width="240" height="28" fill="#0078d4" fill-opacity="0.2" rx="14" stroke="#0078d4" stroke-width="1"/>
            <text x="400" y="90" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">ğŸ’¼ Software Engineer Intern @ Microsoft</text>
            
            <!-- Info Grid -->
            <text x="200" y="135" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#8b949e">ğŸ“ CS @ Tanta University</text>
            <text x="400" y="135" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#8b949e">ğŸ“ Egypt ğŸ‡ªğŸ‡¬</text>
            <text x="600" y="135" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#8b949e">ğŸ”­ Junior Year</text>
            
            <!-- Interests with animated icons -->
            <text x="60" y="175" font-family="Segoe UI, Arial" font-size="13" fill="#c9d1d9">ğŸ’» Backend Development</text>
            <text x="250" y="175" font-family="Segoe UI, Arial" font-size="13" fill="#c9d1d9">ğŸ”§ .NET & C#</text>
            <text x="420" y="175" font-family="Segoe UI, Arial" font-size="13" fill="#c9d1d9">â˜ï¸ Azure Cloud</text>
            <text x="590" y="175" font-family="Segoe UI, Arial" font-size="13" fill="#c9d1d9">ğŸ§© Problem Solving</text>
            
            <!-- Currently Exploring -->
            <text x="400" y="215" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" font-weight="bold" fill="#58a6ff">ğŸš€ Currently Exploring</text>
            
            <rect x="180" y="230" width="90" height="26" fill="#a371f7" fill-opacity="0.2" rx="13" stroke="#a371f7" stroke-width="1"/>
            <text x="225" y="248" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#a371f7">DevOps</text>
            
            <rect x="290" y="230" width="130" height="26" fill="#f78166" fill-opacity="0.2" rx="13" stroke="#f78166" stroke-width="1"/>
            <text x="355" y="248" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#f78166">System Design</text>
            
            <rect x="440" y="230" width="100" height="26" fill="#58a6ff" fill-opacity="0.2" rx="13" stroke="#58a6ff" stroke-width="1"/>
            <text x="490" y="248" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#58a6ff">AI Agents</text>
            
            <!-- Stats bar -->
            <text x="200" y="285" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">ğŸ‘¥ ${userData.followers} Followers</text>
            <text x="400" y="285" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">ğŸ“¦ ${userData.public_repos} Repositories</text>
            <text x="600" y="285" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">â­ ${userData.following} Following</text>
          </svg>`;
          }

          function aboutCircuitBoard(userData) {
            let circuits = '';
            const lines = [[50,160,150,160],[150,160,150,80],[150,80,250,80],[650,100,750,100],[750,100,750,200],[600,250,700,250]];
            lines.forEach(function(line, i) {
              const dur = 2 + i * 0.3;
              circuits += '<line x1="' + line[0] + '" y1="' + line[1] + '" x2="' + line[2] + '" y2="' + line[3] + '" stroke="#58a6ff" stroke-width="1" opacity="0.3"><animate attributeName="opacity" values="0.3;0.6;0.3" dur="' + dur + 's" repeatCount="indefinite"/></line>';
              circuits += '<circle cx="' + line[2] + '" cy="' + line[3] + '" r="3" fill="#58a6ff" opacity="0.5"><animate attributeName="opacity" values="0.5;1;0.5" dur="' + dur + 's" repeatCount="indefinite"/></circle>';
            });
            return `<svg width="800" height="320" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="aboutBg2" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#0a0a0f"/>
                <stop offset="100%" style="stop-color:#1a1a2e"/>
              </linearGradient>
            </defs>
            <rect width="100%" height="100%" fill="url(#aboutBg2)" rx="10"/>
            ${circuits}
            
            <text x="400" y="45" text-anchor="middle" font-family="Courier New, monospace" font-size="22" font-weight="bold" fill="#58a6ff">[ ABOUT_ME ]</text>
            
            <rect x="250" y="60" width="300" height="30" fill="#0d1117" rx="4" stroke="#30363d" stroke-width="1"/>
            <text x="400" y="82" text-anchor="middle" font-family="Courier New, monospace" font-size="13" fill="#58a6ff">ğŸ’¼ SWE Intern @ Microsoft</text>
            
            <text x="150" y="125" text-anchor="middle" font-family="Courier New, monospace" font-size="12" fill="#8b949e">ğŸ“ CS @ Tanta Univ</text>
            <text x="400" y="125" text-anchor="middle" font-family="Courier New, monospace" font-size="12" fill="#8b949e">ğŸ“ Egypt ğŸ‡ªğŸ‡¬</text>
            <text x="650" y="125" text-anchor="middle" font-family="Courier New, monospace" font-size="12" fill="#8b949e">ğŸ’» .NET Developer</text>
            
            <text x="100" y="165" font-family="Courier New, monospace" font-size="11" fill="#6e7681">&gt; skills = [</text>
            <text x="130" y="185" font-family="Courier New, monospace" font-size="11" fill="#c9d1d9">"Backend Dev",</text>
            <text x="270" y="185" font-family="Courier New, monospace" font-size="11" fill="#c9d1d9">"C# &amp; .NET",</text>
            <text x="400" y="185" font-family="Courier New, monospace" font-size="11" fill="#c9d1d9">"Azure Cloud",</text>
            <text x="550" y="185" font-family="Courier New, monospace" font-size="11" fill="#c9d1d9">"DSA"</text>
            <text x="640" y="185" font-family="Courier New, monospace" font-size="11" fill="#6e7681">]</text>
            
            <text x="100" y="220" font-family="Courier New, monospace" font-size="11" fill="#6e7681">&gt; exploring = [</text>
            <text x="130" y="240" font-family="Courier New, monospace" font-size="11" fill="#a371f7">"DevOps",</text>
            <text x="270" y="240" font-family="Courier New, monospace" font-size="11" fill="#f78166">"System Design",</text>
            <text x="450" y="240" font-family="Courier New, monospace" font-size="11" fill="#58a6ff">"AI Agents"</text>
            <text x="600" y="240" font-family="Courier New, monospace" font-size="11" fill="#6e7681">]</text>
            
            <text x="200" y="290" text-anchor="middle" font-family="Courier New, monospace" font-size="12" fill="#58a6ff">followers: ${userData.followers}</text>
            <text x="400" y="290" text-anchor="middle" font-family="Courier New, monospace" font-size="12" fill="#58a6ff">repos: ${userData.public_repos}</text>
            <text x="600" y="290" text-anchor="middle" font-family="Courier New, monospace" font-size="12" fill="#58a6ff">following: ${userData.following}</text>
          </svg>`;
          }

          function aboutNeonGlow(userData) {
            return `<svg width="800" height="320" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <filter id="neon" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="3" result="blur"/>
                <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
              </filter>
              <linearGradient id="aboutBg3" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#0d0d0d"/>
                <stop offset="100%" style="stop-color:#1a0a2e"/>
              </linearGradient>
            </defs>
            <rect width="100%" height="100%" fill="url(#aboutBg3)" rx="10"/>
            
            <!-- Neon border animation -->
            <rect x="20" y="15" width="760" height="290" fill="none" rx="10" stroke="#58a6ff" stroke-width="2" opacity="0.5" filter="url(#neon)">
              <animate attributeName="stroke" values="#58a6ff;#a371f7;#58a6ff" dur="4s" repeatCount="indefinite"/>
            </rect>
            
            <text x="400" y="55" text-anchor="middle" font-family="Segoe UI, Arial" font-size="26" font-weight="bold" fill="#ffffff" filter="url(#neon)">About Me</text>
            
            <rect x="260" y="70" width="280" height="32" fill="transparent" rx="16" stroke="#0078d4" stroke-width="2" filter="url(#neon)"/>
            <text x="400" y="93" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff" filter="url(#neon)">ğŸ’¼ Software Engineer Intern @ Microsoft</text>
            
            <text x="200" y="135" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#c9d1d9">ğŸ“ CS @ Tanta University</text>
            <text x="400" y="135" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#c9d1d9">ğŸ“ Egypt ğŸ‡ªğŸ‡¬</text>
            <text x="600" y="135" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#c9d1d9">ğŸ”­ Junior Year</text>
            
            <text x="100" y="175" font-family="Segoe UI, Arial" font-size="13" fill="#8b949e">ğŸ’» Backend Development</text>
            <text x="300" y="175" font-family="Segoe UI, Arial" font-size="13" fill="#8b949e">ğŸ”§ .NET &amp; C#</text>
            <text x="480" y="175" font-family="Segoe UI, Arial" font-size="13" fill="#8b949e">â˜ï¸ Azure Cloud</text>
            <text x="650" y="175" font-family="Segoe UI, Arial" font-size="13" fill="#8b949e">ğŸ§© Problem Solving</text>
            
            <text x="400" y="215" text-anchor="middle" font-family="Segoe UI, Arial" font-size="16" font-weight="bold" fill="#a371f7" filter="url(#neon)">ğŸš€ Currently Exploring</text>
            
            <text x="250" y="250" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#a371f7" filter="url(#neon)">DevOps</text>
            <text x="400" y="250" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#f78166" filter="url(#neon)">System Design</text>
            <text x="550" y="250" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff" filter="url(#neon)">AI Agents</text>
            
            <text x="200" y="290" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">ğŸ‘¥ ${userData.followers} Followers</text>
            <text x="400" y="290" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">ğŸ“¦ ${userData.public_repos} Repos</text>
            <text x="600" y="290" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">â­ ${userData.following} Following</text>
          </svg>`;
          }

          function aboutMinimalDark(userData) {
            return `<svg width="800" height="320" xmlns="http://www.w3.org/2000/svg">
            <rect width="100%" height="100%" fill="#0d1117" rx="10"/>
            <rect x="30" y="25" width="740" height="270" fill="#161b22" rx="8" stroke="#30363d" stroke-width="1"/>
            
            <line x1="50" y1="70" x2="750" y2="70" stroke="#30363d" stroke-width="1"/>
            
            <text x="400" y="55" text-anchor="middle" font-family="Segoe UI, Arial" font-size="20" font-weight="600" fill="#c9d1d9">About Me</text>
            
            <text x="400" y="100" text-anchor="middle" font-family="Segoe UI, Arial" font-size="15" fill="#58a6ff">ğŸ’¼ Software Engineer Intern @ Microsoft</text>
            
            <circle cx="200" cy="140" r="4" fill="#58a6ff"/>
            <text x="220" y="145" font-family="Segoe UI, Arial" font-size="14" fill="#8b949e">CS @ Tanta University</text>
            
            <circle cx="450" cy="140" r="4" fill="#58a6ff"/>
            <text x="470" y="145" font-family="Segoe UI, Arial" font-size="14" fill="#8b949e">Egypt ğŸ‡ªğŸ‡¬</text>
            
            <circle cx="620" cy="140" r="4" fill="#58a6ff"/>
            <text x="640" y="145" font-family="Segoe UI, Arial" font-size="14" fill="#8b949e">Junior Year</text>
            
            <text x="50" y="185" font-family="Segoe UI, Arial" font-size="13" fill="#6e7681">SKILLS</text>
            <text x="120" y="185" font-family="Segoe UI, Arial" font-size="13" fill="#c9d1d9">Backend Development â€¢ .NET &amp; C# â€¢ Azure Cloud â€¢ Problem Solving</text>
            
            <text x="50" y="220" font-family="Segoe UI, Arial" font-size="13" fill="#6e7681">EXPLORING</text>
            <rect x="140" y="205" width="70" height="22" fill="#a371f7" fill-opacity="0.15" rx="11"/>
            <text x="175" y="221" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#a371f7">DevOps</text>
            <rect x="220" y="205" width="105" height="22" fill="#f78166" fill-opacity="0.15" rx="11"/>
            <text x="272" y="221" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#f78166">System Design</text>
            <rect x="335" y="205" width="80" height="22" fill="#58a6ff" fill-opacity="0.15" rx="11"/>
            <text x="375" y="221" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#58a6ff">AI Agents</text>
            
            <line x1="50" y1="250" x2="750" y2="250" stroke="#30363d" stroke-width="1"/>
            
            <text x="200" y="275" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">${userData.followers} Followers</text>
            <text x="400" y="275" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">${userData.public_repos} Repositories</text>
            <text x="600" y="275" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">${userData.following} Following</text>
          </svg>`;
          }

          function aboutWavePattern(userData) {
            return `<svg width="800" height="320" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="aboutBg5" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#0d1117"/>
                <stop offset="100%" style="stop-color:#1a1a2e"/>
              </linearGradient>
            </defs>
            <rect width="100%" height="100%" fill="url(#aboutBg5)" rx="10"/>
            
            <!-- Animated waves -->
            <path d="M0,300 Q200,280 400,300 T800,300 L800,320 L0,320 Z" fill="#58a6ff" opacity="0.1">
              <animate attributeName="d" values="M0,300 Q200,280 400,300 T800,300 L800,320 L0,320 Z;M0,300 Q200,310 400,290 T800,300 L800,320 L0,320 Z;M0,300 Q200,280 400,300 T800,300 L800,320 L0,320 Z" dur="4s" repeatCount="indefinite"/>
            </path>
            <path d="M0,290 Q200,270 400,290 T800,290 L800,320 L0,320 Z" fill="#58a6ff" opacity="0.15">
              <animate attributeName="d" values="M0,290 Q200,270 400,290 T800,290 L800,320 L0,320 Z;M0,290 Q200,300 400,280 T800,290 L800,320 L0,320 Z;M0,290 Q200,270 400,290 T800,290 L800,320 L0,320 Z" dur="3s" repeatCount="indefinite"/>
            </path>
            
            <text x="400" y="45" text-anchor="middle" font-family="Segoe UI, Arial" font-size="24" font-weight="bold" fill="#ffffff">About Me</text>
            
            <rect x="270" y="60" width="260" height="30" fill="#0078d4" fill-opacity="0.2" rx="15" stroke="#0078d4" stroke-width="1"/>
            <text x="400" y="82" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#58a6ff">ğŸ’¼ Software Engineer Intern @ Microsoft</text>
            
            <text x="200" y="125" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#8b949e">ğŸ“ CS @ Tanta University</text>
            <text x="400" y="125" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#8b949e">ğŸ“ Egypt ğŸ‡ªğŸ‡¬</text>
            <text x="600" y="125" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" fill="#8b949e">ğŸ”­ Junior Year</text>
            
            <text x="60" y="165" font-family="Segoe UI, Arial" font-size="13" fill="#c9d1d9">ğŸ’» Backend Development</text>
            <text x="250" y="165" font-family="Segoe UI, Arial" font-size="13" fill="#c9d1d9">ğŸ”§ .NET &amp; C#</text>
            <text x="420" y="165" font-family="Segoe UI, Arial" font-size="13" fill="#c9d1d9">â˜ï¸ Azure Cloud</text>
            <text x="590" y="165" font-family="Segoe UI, Arial" font-size="13" fill="#c9d1d9">ğŸ§© Problem Solving</text>
            
            <text x="400" y="205" text-anchor="middle" font-family="Segoe UI, Arial" font-size="15" font-weight="bold" fill="#58a6ff">ğŸš€ Currently Exploring</text>
            
            <rect x="200" y="220" width="80" height="24" fill="#a371f7" fill-opacity="0.2" rx="12" stroke="#a371f7" stroke-width="1"/>
            <text x="240" y="237" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#a371f7">DevOps</text>
            
            <rect x="300" y="220" width="115" height="24" fill="#f78166" fill-opacity="0.2" rx="12" stroke="#f78166" stroke-width="1"/>
            <text x="357" y="237" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#f78166">System Design</text>
            
            <rect x="435" y="220" width="90" height="24" fill="#58a6ff" fill-opacity="0.2" rx="12" stroke="#58a6ff" stroke-width="1"/>
            <text x="480" y="237" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#58a6ff">AI Agents</text>
            
            <text x="200" y="275" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">ğŸ‘¥ ${userData.followers} Followers</text>
            <text x="400" y="275" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">ğŸ“¦ ${userData.public_repos} Repos</text>
            <text x="600" y="275" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">â­ ${userData.following} Following</text>
          </svg>`;
          }

          function aboutDotMatrix(userData) {
            let dots = '';
            for (let row = 0; row < 16; row++) {
              for (let col = 0; col < 40; col++) {
                const x = 20 + col * 20;
                const y = 20 + row * 20;
                const opacity = (0.05 + Math.random() * 0.1).toFixed(2);
                dots += '<circle cx="' + x + '" cy="' + y + '" r="1" fill="#58a6ff" opacity="' + opacity + '"/>';
              }
            }
            return `<svg width="800" height="320" xmlns="http://www.w3.org/2000/svg">
            <rect width="100%" height="100%" fill="#0a0a0f" rx="10"/>
            ${dots}
            
            <rect x="100" y="30" width="600" height="260" fill="#0d1117" fill-opacity="0.9" rx="8"/>
            
            <text x="400" y="65" text-anchor="middle" font-family="Segoe UI, Arial" font-size="22" font-weight="bold" fill="#58a6ff">About Me</text>
            
            <rect x="275" y="80" width="250" height="28" fill="#0078d4" fill-opacity="0.2" rx="14"/>
            <text x="400" y="100" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">ğŸ’¼ Software Engineer Intern @ Microsoft</text>
            
            <text x="200" y="140" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#8b949e">ğŸ“ CS @ Tanta University</text>
            <text x="400" y="140" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#8b949e">ğŸ“ Egypt ğŸ‡ªğŸ‡¬</text>
            <text x="600" y="140" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#8b949e">ğŸ”­ Junior</text>
            
            <text x="150" y="180" font-family="Segoe UI, Arial" font-size="12" fill="#c9d1d9">ğŸ’» Backend Dev</text>
            <text x="300" y="180" font-family="Segoe UI, Arial" font-size="12" fill="#c9d1d9">ğŸ”§ .NET &amp; C#</text>
            <text x="450" y="180" font-family="Segoe UI, Arial" font-size="12" fill="#c9d1d9">â˜ï¸ Azure</text>
            <text x="580" y="180" font-family="Segoe UI, Arial" font-size="12" fill="#c9d1d9">ğŸ§© DSA</text>
            
            <text x="400" y="215" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" font-weight="bold" fill="#58a6ff">ğŸš€ Exploring</text>
            
            <text x="250" y="245" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#a371f7">â€¢ DevOps</text>
            <text x="400" y="245" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#f78166">â€¢ System Design</text>
            <text x="550" y="245" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" fill="#58a6ff">â€¢ AI Agents</text>
            
            <text x="200" y="280" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">ğŸ‘¥ ${userData.followers}</text>
            <text x="400" y="280" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">ğŸ“¦ ${userData.public_repos}</text>
            <text x="600" y="280" text-anchor="middle" font-family="Segoe UI, Arial" font-size="13" fill="#58a6ff">â­ ${userData.following}</text>
          </svg>`;
          }

          function generateAboutMeSVG(userData) {
            const styles = [aboutGlassCards, aboutCircuitBoard, aboutNeonGlow, aboutMinimalDark, aboutWavePattern, aboutDotMatrix];
            const randomStyle = styles[Math.floor(Math.random() * styles.length)];
            
            console.log('ğŸ¨ About Me style: ' + randomStyle.name);
            return randomStyle(userData);
          }

          async function main() {
            try {
              const userData = await fetchGitHubData();
              
              if (!fs.existsSync('dynamic-svg')) {
                fs.mkdirSync('dynamic-svg', { recursive: true });
              }
              
              fs.writeFileSync('dynamic-svg/header.svg', generateHeaderSVG(userData));
              fs.writeFileSync('dynamic-svg/about-me.svg', generateAboutMeSVG(userData));
              
              console.log('âœ… SVGs generated successfully!');
              console.log('ğŸ“Š User: ' + userData.login);
            } catch (error) {
              console.error('Error:', error);
              process.exit(1);
            }
          }

          main();
          EOF
      
      - name: Generate Dynamic SVGs
        run: node generate-svg.js
      
      - name: Commit and Push
        run: |
          cp -r dynamic-svg /tmp/dynamic-svg-new
          git fetch origin master
          git reset --hard origin/master
          mkdir -p dynamic-svg
          cp -r /tmp/dynamic-svg-new/* dynamic-svg/
          
          # Update README with cache-busting timestamp
          TIMESTAMP=$(date +%s)
          sed -i "s|dynamic-svg/header.svg[^\"]*\"|dynamic-svg/header.svg?v=${TIMESTAMP}\"|g" README.md
          sed -i "s|dynamic-svg/about-me.svg[^\"]*\"|dynamic-svg/about-me.svg?v=${TIMESTAMP}\"|g" README.md
          
          git config user.name github-actions[bot]
          git config user.email github-actions[bot]@users.noreply.github.com
          git add dynamic-svg/ README.md
          git diff --staged --quiet && echo "No changes" && exit 0
          git commit -m "ğŸ¨ Update dynamic SVGs (header + about me)"
          git push origin master
